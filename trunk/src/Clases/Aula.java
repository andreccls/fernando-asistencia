package Clases;
// Generated 14-may-2013 5:19:10 by Hibernate Tools 3.2.1.GA


import java.util.Date;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;
import java.util.Set;
import javax.swing.JOptionPane;

/**
 * Aula generated by hbm2java
 */
public class Aula  implements java.io.Serializable {


     private Integer idAula;
     private String nombre;
     private Integer numero;
     private Set<Tareaclase> tareaclases = new HashSet<Tareaclase>(0);

    public Aula() {
    }

    public Aula(String nombre, Integer numero, Set<Tareaclase> tareaclases) {
       this.nombre = nombre;
       this.numero = numero;
       this.tareaclases = tareaclases;
    }
   
    @Override
    public String toString() {
        return nombre+" "+numero;
    }
    
    public Integer getIdAula() {
        return this.idAula;
    }
    
    public void setIdAula(Integer idAula) {
        this.idAula = idAula;
    }
    public String getNombre() {
        return this.nombre;
    }
    
    public void setNombre(String nombre) {
        this.nombre = nombre;
    }
    public Integer getNumero() {
        return this.numero;
    }
    
    public void setNumero(Integer numero) {
        this.numero = numero;
    }
    public Set<Tareaclase> getTareaclases() {
        return this.tareaclases;
    }
    
    public void setTareaclases(Set<Tareaclase> tareaclases) {
        this.tareaclases = tareaclases;
    }

////// GENERADO POR GONZALEZ FERNANDO
    
    public void guardarAula(Aula unAula){
        Controlador.getPERSISTENCIA().insert(this);

        JOptionPane.showMessageDialog(null,"El aula se guardo correctamente","Guardar Aula",JOptionPane.INFORMATION_MESSAGE);
    }
    
    public void EliminarAula(Aula unAula){
        Iterator it=tareaclases.iterator();
        if(it.hasNext()){
            JOptionPane.showMessageDialog(null,"El Tipo de documento no se puede eliminar porque esta relacionada con otros personales","Eliminar Aula",JOptionPane.ERROR_MESSAGE);
        }else{
            Controlador.getPERSISTENCIA().delete(this);
            JOptionPane.showMessageDialog(null,"El aula se elimin√≥ correctamente","Eliminar Aula",JOptionPane.INFORMATION_MESSAGE);
        }
    }
    
    
    public boolean DisponibilidadAula(Date inici, Date finn, HashMap inic, HashMap dsem, int id, Aula au) {
        boolean a = true;
        Date ot1 = inici;
        if (dsem.containsValue("LUNES")) {
            while (ot1.getDay() != 1) {
                ot1 = Controlador.sumarFechasDias(ot1, 1);
            }
            Date otro = ot1;
            Iniciofin ini = (Iniciofin) inic.get(1);
            // <editor-fold defaultstate="collapsed" desc="Controlar aula">
            Iterator i = Controlador.PERSISTENCIA.getTareaclase(au.getIdAula()).iterator();
            while (i.hasNext()) {
                Tareaclase tarcla = (Tareaclase) i.next();
                Tarea tar = tarcla.getTarea();
                while (otro.compareTo(finn) <= 0) {
                    if (!Controlador.PERSISTENCIA.getAgendasTar(tar.getIdTarea()).isEmpty()) {
                        Iterator it = Controlador.PERSISTENCIA.getAgendasTar(tar.getIdTarea()).iterator();
                        while (it.hasNext()) {
                            Agenda age = (Agenda) it.next();
                            if (age.getPersonal().getEstado() == true && age.getTarea().getEstado() == true && age.getTarea().getIdTarea() != id) {
                                if (age.getTarea().getTareaclases().iterator().hasNext()) {
                                    Dia di = age.getDia2(otro);
                                    if (di.getIdDia() != null) {
                                        Iterator itin = di.getIniciofins().iterator();
                                        while (itin.hasNext()) {
                                            Iniciofin in = (Iniciofin) itin.next();
                                            if (ini.getInicio().compareTo(in.getInicio()) <= 0 && ini.getFin().compareTo(in.getInicio()) >= 0) {
                                                a = false;
                                                break;
                                            } else if (ini.getInicio().compareTo(in.getFin()) <= 0 && ini.getFin().compareTo(in.getFin()) >= 0) {
                                                a = false;
                                                break;
                                            } else if (ini.getInicio().compareTo(in.getInicio()) >= 0 && ini.getFin().compareTo(in.getInicio()) >= 0 && ini.getInicio().compareTo(in.getFin()) <= 0 && ini.getFin().compareTo(in.getFin()) <= 0) {
                                                a = false;
                                                break;
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    otro = Controlador.sumarFechasDias(otro, 7);
                }
            }
            // </editor-fold>
            
        }
        Date ot2 = inici;
        if (dsem.containsValue("MARTES")) {
            while (ot2.getDay() != 2) {
                ot2 = Controlador.sumarFechasDias(ot2, 1);
            }
            Date otro = ot2;
            Iniciofin ini = (Iniciofin) inic.get(2);
            // <editor-fold defaultstate="collapsed" desc="Controlar aula">
            Iterator i = Controlador.PERSISTENCIA.getTareaclase(au.getIdAula()).iterator();
            while (i.hasNext()) {
                Tareaclase tarcla = (Tareaclase) i.next();
                Tarea tar = tarcla.getTarea();
                while (otro.compareTo(finn) <= 0) {
                    if (!Controlador.PERSISTENCIA.getAgendasTar(tar.getIdTarea()).isEmpty()) {
                        Iterator it = Controlador.PERSISTENCIA.getAgendasTar(tar.getIdTarea()).iterator();
                        while (it.hasNext()) {
                            Agenda age = (Agenda) it.next();
                            if (age.getPersonal().getEstado() == true && age.getTarea().getEstado() == true && age.getTarea().getIdTarea() != id) {
                                if (age.getTarea().getTareaclases().iterator().hasNext()) {
                                    Dia di = age.getDia2(otro);
                                    if (di.getIdDia() != null) {
                                        Iterator itin = di.getIniciofins().iterator();
                                        while (itin.hasNext()) {
                                            Iniciofin in = (Iniciofin) itin.next();
                                            if (ini.getInicio().compareTo(in.getInicio()) <= 0 && ini.getFin().compareTo(in.getInicio()) >= 0) {
                                                a = false;
                                                break;
                                            } else if (ini.getInicio().compareTo(in.getFin()) <= 0 && ini.getFin().compareTo(in.getFin()) >= 0) {
                                                a = false;
                                                break;
                                            } else if (ini.getInicio().compareTo(in.getInicio()) >= 0 && ini.getFin().compareTo(in.getInicio()) >= 0 && ini.getInicio().compareTo(in.getFin()) <= 0 && ini.getFin().compareTo(in.getFin()) <= 0) {
                                                a = false;
                                                break;
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    otro = Controlador.sumarFechasDias(otro, 7);
                }
            }
            // </editor-fold>

        }
        Date ot3 = inici;
        if (dsem.containsValue("MIERCOLES")) {
            while (ot3.getDay() != 3) {
                ot3 = Controlador.sumarFechasDias(ot3, 1);
            }
            Date otro = ot3;
            Iniciofin ini = (Iniciofin) inic.get(3);
            // <editor-fold defaultstate="collapsed" desc="Controlar aula">
            Iterator i = Controlador.PERSISTENCIA.getTareaclase(au.getIdAula()).iterator();
            while (i.hasNext()) {
                Tareaclase tarcla = (Tareaclase) i.next();
                Tarea tar = tarcla.getTarea();
                while (otro.compareTo(finn) <= 0) {
                    if (!Controlador.PERSISTENCIA.getAgendasTar(tar.getIdTarea()).isEmpty()) {
                        Iterator it = Controlador.PERSISTENCIA.getAgendasTar(tar.getIdTarea()).iterator();
                        while (it.hasNext()) {
                            Agenda age = (Agenda) it.next();
                            if (age.getPersonal().getEstado() == true && age.getTarea().getEstado() == true && age.getTarea().getIdTarea() != id) {
                                if (age.getTarea().getTareaclases().iterator().hasNext()) {
                                    Dia di = age.getDia2(otro);
                                    if (di.getIdDia() != null) {
                                        Iterator itin = di.getIniciofins().iterator();
                                        while (itin.hasNext()) {
                                            Iniciofin in = (Iniciofin) itin.next();
                                            if (ini.getInicio().compareTo(in.getInicio()) <= 0 && ini.getFin().compareTo(in.getInicio()) >= 0) {
                                                a = false;
                                                break;
                                            } else if (ini.getInicio().compareTo(in.getFin()) <= 0 && ini.getFin().compareTo(in.getFin()) >= 0) {
                                                a = false;
                                                break;
                                            } else if (ini.getInicio().compareTo(in.getInicio()) >= 0 && ini.getFin().compareTo(in.getInicio()) >= 0 && ini.getInicio().compareTo(in.getFin()) <= 0 && ini.getFin().compareTo(in.getFin()) <= 0) {
                                                a = false;
                                                break;
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    otro = Controlador.sumarFechasDias(otro, 7);
                }
            }
            // </editor-fold>

        }
        Date ot4 = inici;
        if (dsem.containsValue("JUEVES")) {
            while (ot4.getDay() != 4) {
                ot4 = Controlador.sumarFechasDias(ot4, 1);
            }
            Date otro = ot4;
            Iniciofin ini = (Iniciofin) inic.get(4);
            // <editor-fold defaultstate="collapsed" desc="Controlar aula">
            Iterator i = Controlador.PERSISTENCIA.getTareaclase(au.getIdAula()).iterator();
            while (i.hasNext()) {
                Tareaclase tarcla = (Tareaclase) i.next();
                Tarea tar = tarcla.getTarea();
                while (otro.compareTo(finn) <= 0) {
                    if (!Controlador.PERSISTENCIA.getAgendasTar(tar.getIdTarea()).isEmpty()) {
                        Iterator it = Controlador.PERSISTENCIA.getAgendasTar(tar.getIdTarea()).iterator();
                        while (it.hasNext()) {
                            Agenda age = (Agenda) it.next();
                            if (age.getPersonal().getEstado() == true && age.getTarea().getEstado() == true && age.getTarea().getIdTarea() != id) {
                                if (age.getTarea().getTareaclases().iterator().hasNext()) {
                                    Dia di = age.getDia2(otro);
                                    if (di.getIdDia() != null) {
                                        Iterator itin = di.getIniciofins().iterator();
                                        while (itin.hasNext()) {
                                            Iniciofin in = (Iniciofin) itin.next();
                                            if (ini.getInicio().compareTo(in.getInicio()) <= 0 && ini.getFin().compareTo(in.getInicio()) >= 0) {
                                                a = false;
                                                break;
                                            } else if (ini.getInicio().compareTo(in.getFin()) <= 0 && ini.getFin().compareTo(in.getFin()) >= 0) {
                                                a = false;
                                                break;
                                            } else if (ini.getInicio().compareTo(in.getInicio()) >= 0 && ini.getFin().compareTo(in.getInicio()) >= 0 && ini.getInicio().compareTo(in.getFin()) <= 0 && ini.getFin().compareTo(in.getFin()) <= 0) {
                                                a = false;
                                                break;
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    otro = Controlador.sumarFechasDias(otro, 7);
                }
            }
            // </editor-fold>

        }
        Date ot5 = inici;
        if (dsem.containsValue("VIERNES")) {
            while (ot5.getDay() != 5) {
                ot5 = Controlador.sumarFechasDias(ot5, 1);
            }
            Date otro = ot5;
            Iniciofin ini = (Iniciofin) inic.get(5);
            // <editor-fold defaultstate="collapsed" desc="Controlar aula">
            Iterator i = Controlador.PERSISTENCIA.getTareaclase(au.getIdAula()).iterator();
            while (i.hasNext()) {
                Tareaclase tarcla = (Tareaclase) i.next();
                Tarea tar = tarcla.getTarea();
                while (otro.compareTo(finn) <= 0) {
                    if (!Controlador.PERSISTENCIA.getAgendasTar(tar.getIdTarea()).isEmpty()) {
                        Iterator it = Controlador.PERSISTENCIA.getAgendasTar(tar.getIdTarea()).iterator();
                        while (it.hasNext()) {
                            Agenda age = (Agenda) it.next();
                            if (age.getPersonal().getEstado() == true && age.getTarea().getEstado() == true && age.getTarea().getIdTarea() != id) {
                                if (age.getTarea().getTareaclases().iterator().hasNext()) {
                                    Dia di = age.getDia2(otro);
                                    if (di.getIdDia() != null) {
                                        Iterator itin = di.getIniciofins().iterator();
                                        while (itin.hasNext()) {
                                            Iniciofin in = (Iniciofin) itin.next();
                                            if (ini.getInicio().compareTo(in.getInicio()) <= 0 && ini.getFin().compareTo(in.getInicio()) >= 0) {
                                                a = false;
                                                break;
                                            } else if (ini.getInicio().compareTo(in.getFin()) <= 0 && ini.getFin().compareTo(in.getFin()) >= 0) {
                                                a = false;
                                                break;
                                            } else if (ini.getInicio().compareTo(in.getInicio()) >= 0 && ini.getFin().compareTo(in.getInicio()) >= 0 && ini.getInicio().compareTo(in.getFin()) <= 0 && ini.getFin().compareTo(in.getFin()) <= 0) {
                                                a = false;
                                                break;
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    otro = Controlador.sumarFechasDias(otro, 7);
                }
            }
            // </editor-fold>

        }
        Date ot6 = inici;
        if (dsem.containsValue("SABADO")) {
            while (ot6.getDay() != 6) {
                ot6 = Controlador.sumarFechasDias(ot6, 1);
            }
            Date otro = ot6;
            Iniciofin ini = (Iniciofin) inic.get(6);
            // <editor-fold defaultstate="collapsed" desc="Controlar aula">
            Iterator i = Controlador.PERSISTENCIA.getTareaclase(au.getIdAula()).iterator();
            while (i.hasNext()) {
                Tareaclase tarcla = (Tareaclase) i.next();
                Tarea tar = tarcla.getTarea();
                while (otro.compareTo(finn) <= 0) {
                    if (!Controlador.PERSISTENCIA.getAgendasTar(tar.getIdTarea()).isEmpty()) {
                        Iterator it = Controlador.PERSISTENCIA.getAgendasTar(tar.getIdTarea()).iterator();
                        while (it.hasNext()) {
                            Agenda age = (Agenda) it.next();
                            if (age.getPersonal().getEstado() == true && age.getTarea().getEstado() == true && age.getTarea().getIdTarea() != id) {
                                if (age.getTarea().getTareaclases().iterator().hasNext()) {
                                    Dia di = age.getDia2(otro);
                                    if (di.getIdDia() != null) {
                                        Iterator itin = di.getIniciofins().iterator();
                                        while (itin.hasNext()) {
                                            Iniciofin in = (Iniciofin) itin.next();
                                            if (ini.getInicio().compareTo(in.getInicio()) <= 0 && ini.getFin().compareTo(in.getInicio()) >= 0) {
                                                a = false;
                                                break;
                                            } else if (ini.getInicio().compareTo(in.getFin()) <= 0 && ini.getFin().compareTo(in.getFin()) >= 0) {
                                                a = false;
                                                break;
                                            } else if (ini.getInicio().compareTo(in.getInicio()) >= 0 && ini.getFin().compareTo(in.getInicio()) >= 0 && ini.getInicio().compareTo(in.getFin()) <= 0 && ini.getFin().compareTo(in.getFin()) <= 0) {
                                                a = false;
                                                break;
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    otro = Controlador.sumarFechasDias(otro, 7);
                }
            }
            // </editor-fold>

        }

        return a;
    }


}


