<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Inasistencia" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<queryString language="hql">
		<![CDATA[select per.apellido as apellido, per.nombre as nombre, tar.nombre as tareanombre, ann.ano as anio, me.mes as mes, di.dia as dia, hour(ini.inicio) as iniciohr,minute(ini.inicio) as iniciomin, hour(ini.fin) as finhr,minute(ini.fin) as finmin, asi.estado as estado, asi.tardanza as tardanza, just.motivo as motiv, art.nombre as nombreart, art.nroArticulo as nroart
from Personal as per, Tarea as tar, Agenda as age, Ano as ann, Mes as me, Dia as di, Iniciofin as ini, Asistencia as asi, Justificacion as just, Articulo as art
where per.idPersonal=age.personal.idPersonal and tar.idTarea=age.tarea.idTarea and age.tarea.idTarea=ann.agenda.tarea.idTarea and age.personal.idPersonal=ann.agenda.personal.idPersonal
and me.ano.idAno=ann.idAno and me.idMes=di.mes.idMes
and di.idDia = ini.dia.idDia
and asi.iniciofin.idIniciofin=ini.idIniciofin and asi.estado=1
and asi.idAsistencia=just.asistencia.idAsistencia and just.articulo.idArticulo=art.idArticulo]]>
	</queryString>
	<field name="apellido" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombre" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="tareanombre" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="anio" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="mes" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="dia" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="iniciohr" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="iniciomin" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="finhr" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="finmin" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="estado" class="java.lang.Boolean">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="tardanza" class="java.lang.Boolean">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="motiv" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombreart" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nroart" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="79" splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="35" splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="61" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="41" width="100" height="20"/>
				<textElement/>
				<text><![CDATA[Actividad]]></text>
			</staticText>
			<staticText>
				<reportElement x="100" y="41" width="100" height="20"/>
				<textElement/>
				<text><![CDATA[Personal]]></text>
			</staticText>
			<staticText>
				<reportElement x="200" y="41" width="100" height="20"/>
				<textElement/>
				<text><![CDATA[Fecha]]></text>
			</staticText>
			<staticText>
				<reportElement x="300" y="41" width="100" height="20"/>
				<textElement/>
				<text><![CDATA[Inicio]]></text>
			</staticText>
			<staticText>
				<reportElement x="400" y="41" width="100" height="20"/>
				<textElement/>
				<text><![CDATA[Fin]]></text>
			</staticText>
			<staticText>
				<reportElement x="500" y="41" width="58" height="20"/>
				<textElement/>
				<text><![CDATA[Asistencia]]></text>
			</staticText>
			<staticText>
				<reportElement x="558" y="41" width="55" height="20"/>
				<textElement/>
				<text><![CDATA[Tardanza]]></text>
			</staticText>
			<staticText>
				<reportElement x="613" y="41" width="51" height="20"/>
				<textElement/>
				<text><![CDATA[Articulo]]></text>
			</staticText>
			<staticText>
				<reportElement x="664" y="41" width="138" height="20"/>
				<textElement/>
				<text><![CDATA[Motivo]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="125" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="100" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{tareanombre}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="100" y="0" width="100" height="48"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{apellido}+" "+$F{nombre}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="200" y="0" width="100" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{dia}<=9 ? "0"+$F{dia}:$F{dia})+"/"+($F{mes}<=9 ? "0"+$F{mes}:$F{mes})+"/"+$F{anio}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="300" y="0" width="100" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{iniciohr}<=9 ? "0"+$F{iniciohr}:$F{iniciohr})+":"+($F{iniciomin}<=9 ? "0"+$F{iniciomin}:$F{iniciomin})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="400" y="0" width="100" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{finhr}<=9 ? "0"+$F{finhr}:$F{finhr})+":"+($F{finmin}<=9 ? "0"+$F{finmin}:$F{finmin})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="500" y="0" width="58" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{estado}?"SI":"NO")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="558" y="0" width="55" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{tardanza}? "SI":"NO")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="613" y="0" width="51" height="48"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{nroart}+" - "+$F{nombreart}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="664" y="0" width="138" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{motiv}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="54" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
